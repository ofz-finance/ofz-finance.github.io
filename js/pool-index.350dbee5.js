(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pool-index"],{1315:function(e,t,n){"use strict";n("ff64")},"3b2a":function(e,t,n){"use strict";n("c202")},"52b6":function(e,t,n){},"542d":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),o=n("408a"),s=1..toPrecision,c=r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}));a({target:"Number",proto:!0,forced:c},{toPrecision:function(e){return void 0===e?s.call(o(this)):s.call(o(this),e)}})},5490:function(e,t,n){"use strict";n("52b6")},"5bab":function(e,t,n){"use strict";n("d03f")},"5db7":function(e,t,n){"use strict";n("7f22")},"7f22":function(e,t,n){},8352:function(e,t,n){},a3e3:function(e,t,n){"use strict";n("8352")},aff7:function(e,t,n){},b411:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pool-exchange-wrapper"},[a("div",{staticClass:"top-panel"},[a("p",{staticClass:"total-label"},[e._v(e._s(e.$t("pool.totalValueTitle")))]),a("p",{staticClass:"top-total"},[e._v("$ "+e._s(e._f("numFormat")(e.total)))])]),a("div",{staticClass:"default-hidden"},[a("div",{staticClass:"pool-select"},[a("el-select",{staticClass:"reset-input",attrs:{placeholder:"请选择"},on:{change:e.selectChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},e._l(e.selectOptions,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)})),1),a("p",{staticClass:"record",on:{click:e.toRecord}},[a("img",{staticClass:"record-icon",attrs:{src:n("cc25"),alt:""}}),e._v(" "+e._s(e.$t("pool.history"))+" ")])],1)]),a("ul",{staticClass:"pool-list"},[a("li",{staticClass:"pc-currency-list"},[a("el-collapse",{attrs:{accordion:""},on:{change:e.handleChange}},[a("div",{staticClass:"pool-category"},[a("p",{staticClass:"category"},[e._v(e._s(e.$t("pool.crossPool")))]),a("p",{staticClass:"record",on:{click:e.toRecord}},[a("img",{staticClass:"record-icon",attrs:{src:n("cc25"),alt:""}}),e._v(" "+e._s(e.$t("pool.history"))+" ")])]),e._l(e.poolsList.filter((function(e){return"selfChain3pool"!==e.type})),(function(t){return a("div",{key:t.type,staticClass:"currency-list"},[a("el-collapse-item",{attrs:{name:t.type}},[a("template",{slot:"title"},[a("ul",{staticClass:"out-box"},[a("li",{staticClass:"left-info"},[a("label",{staticClass:"chain-name",domProps:{innerHTML:e._s(t.name)}})]),a("li",[a("p",{staticClass:"label"},[e._v("TVL")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).tvl?"$"+e.returnTvlItem(t.key).tvl:"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v("APY")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).apy?e.returnTvlItem(t.key).apy+"%":"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.unclaimedReward")))]),a("p",[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.output")))]),a("p",[e._v(e._s(e.filterData(t.key).output))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.proportion")))]),a("p",[e._v(e._s(e.filterData(t.key).allocPercent))])]),a("li",{staticClass:"arrow-wrapper",class:e.poolType===t.type?"active":""},[a("i",{staticClass:"el-icon-caret-bottom"})])])]),a("section",{staticClass:"open-up"},[a("ul",{staticClass:"amount-wrapper"},[a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.balance")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.lptokenTotal,10)))]),a("p",[e._v("≈--")])])]),a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.staking")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.deposited,10)))]),a("p",[e._v("≈--")])]),a("div",{staticClass:"action"},[a("p",[a("img",{attrs:{src:n("32fc"),alt:""},on:{click:function(t){return e.doMining("pledge")}}})]),a("p",[a("img",{attrs:{src:n("a30b"),alt:""},on:{click:function(t){return e.doMining("pickUp")}}})])])]),a("li",{staticClass:"withdrawal-box"},[a("div",{staticStyle:{color:"#999"}},[e._v(" "+e._s(e.$t("pool.getRewards"))+" "),a("img",{staticClass:"refresh-icon",attrs:{src:n("1ab5"),alt:""},on:{click:e.refresh}}),a("div",{staticClass:"withdrawal",on:{click:e.openRewardDialog}},[a("label",{staticClass:"btn-hover"},[e._v(e._s(e.$t("tradeAndMine.withdrawReward")))])])]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))]),a("p",[e._v("≈--")])])]),a("div",{staticClass:"recharge-withdrawal"},[a("section",{staticClass:"tab-header"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("pool.addLiquidity"),name:"input-fluidity"}}),a("el-tab-pane",{attrs:{label:e.$t("pool.extract"),name:"output-fluidity"}})],1)],1),e.poolType===t.type?a("section",{staticClass:"tab-content"},[a(e.activeName,{tag:"component",attrs:{reset:e.dialogVisible,poolType:t.type,lptokenTotal:e.assetsInfo.lptokenTotal},on:{refresh:e.refresh}})],1):e._e()])]),e.poolType&&e.assetsInfo.lptokenTotal&&e.assetsInfo.deposited?a("Pool",{attrs:{poolType:e.poolType,lptokenTotal:e.assetsInfo.lptokenTotal,deposited:e.assetsInfo.deposited}}):e._e()],2)],1)})),a("div",{staticClass:"pool-category"},[a("p",{staticClass:"category"},[e._v(e._s(e.$t("pool.hecoPool")))])]),e._l(e.poolsList.filter((function(e){return"selfChain3pool"===e.type})),(function(t){return a("div",{key:t.type,staticClass:"currency-list"},[a("el-collapse-item",{attrs:{name:t.type}},[a("template",{slot:"title"},[a("ul",{staticClass:"out-box"},[a("li",{staticClass:"left-info"},[a("label",{staticClass:"chain-name",domProps:{innerHTML:e._s(t.name)}})]),a("li",[a("p",{staticClass:"label"},[e._v("TVL")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).tvl?"$"+e.returnTvlItem(t.key).tvl:"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v("APY")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).apy?e.returnTvlItem(t.key).apy+"%":"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.unclaimedReward")))]),a("p",[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.output")))]),a("p",[e._v(e._s(e.filterData(t.key).output))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.proportion")))]),a("p",[e._v(e._s(e.filterData(t.key).allocPercent))])]),a("li",{staticClass:"arrow-wrapper",class:e.poolType===t.type?"active":""},[a("i",{staticClass:"el-icon-caret-bottom"})])])]),a("section",{staticClass:"open-up"},[a("ul",{staticClass:"amount-wrapper"},[a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.balance")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.lptokenTotal,10)))]),a("p",[e._v("≈--")])])]),a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.staking")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.deposited,10)))]),a("p",[e._v("≈--")])]),a("div",{staticClass:"action"},[a("p",[a("img",{attrs:{src:n("32fc"),alt:""},on:{click:function(t){return e.doMining("pledge")}}})]),a("p",[a("img",{attrs:{src:n("a30b"),alt:""},on:{click:function(t){return e.doMining("pickUp")}}})])])]),a("li",{staticClass:"withdrawal-box"},[a("div",[e._v(" "+e._s(e.$t("pool.getRewards"))+" "),a("img",{staticClass:"refresh-icon",attrs:{src:n("1ab5"),alt:""},on:{click:e.refresh}}),a("div",{staticClass:"withdrawal",on:{click:e.openRewardDialog}},[a("label",{staticClass:"btn-hover"},[e._v(e._s(e.$t("tradeAndMine.withdrawReward")))])])]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))]),a("p",[e._v("≈--")])])]),a("div",{staticClass:"recharge-withdrawal"},[a("section",{staticClass:"tab-header"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("pool.addLiquidity"),name:"input-fluidity"}}),a("el-tab-pane",{attrs:{label:e.$t("pool.extract"),name:"output-fluidity"}})],1)],1),e.poolType===t.type?a("section",{staticClass:"tab-content"},[a(e.activeName,{tag:"component",attrs:{reset:e.dialogVisible,poolType:t.type,lptokenTotal:e.assetsInfo.lptokenTotal},on:{refresh:e.refresh}})],1):e._e()])]),e.poolType&&e.assetsInfo.lptokenTotal&&e.assetsInfo.deposited?a("Pool",{attrs:{poolType:e.poolType,lptokenTotal:e.assetsInfo.lptokenTotal,deposited:e.assetsInfo.deposited}}):e._e()],2)],1)}))],2)],1),a("li",e._l(e.poolsList.filter((function(t){return t.type===e.selectValue})),(function(t){return a("div",{key:t.type,staticClass:"currency-list default-hidden mobile-currency-list"},[a("div",{staticClass:"row-top",attrs:{name:t.type}},[a("ul",{staticClass:"mobile-inner-box"},[a("li",{staticClass:"pool-title"},[a("label",{staticClass:"chain-name",domProps:{innerHTML:e._s(t.name)}})]),a("li",[a("ul",{staticClass:"out-box"},[a("li",[a("p",{staticClass:"label"},[e._v("TVL")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).tvl?"$"+e.returnTvlItem(t.key).tvl:"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v("APY")]),a("p",[e._v(e._s(e.returnTvlItem(t.key).apy?e.returnTvlItem(t.key).apy+"%":"--"))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.unclaimedReward")))]),a("p",[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.output")))]),a("p",[e._v(e._s(e.filterData(t.key).output))])]),a("li",[a("p",{staticClass:"label"},[e._v(e._s(e.$t("pool.proportion")))]),a("p",[e._v(e._s(e.filterData(t.key).allocPercent))])])])])]),a("ul",{staticClass:"amount-wrapper view-amount-wrapper"},[a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.balance")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.lptokenTotal,10)))]),a("p",[e._v("≈--")])])]),a("li",{staticClass:"flex-box"},[a("div",[a("p",[e._v(e._s(e.$t("pool.staking")))]),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.assetsInfo.deposited,10)))]),a("p",[e._v("≈--")])]),a("div",{staticClass:"mining-btn"},[a("p",[a("img",{staticStyle:{"margin-right":"4px"},attrs:{src:n("32fc"),alt:""},on:{click:function(t){return e.doMining("pledge")}}})]),a("p",[a("img",{attrs:{src:n("a30b"),alt:""},on:{click:function(t){return e.doMining("pickUp")}}})])])]),a("li",{staticClass:"withdrawal-box"},[a("div",[e._v(" "+e._s(e.$t("pool.getRewards"))+" "),a("img",{staticClass:"refresh-icon",attrs:{src:n("1ab5"),alt:""},on:{click:e.refresh}}),a("p",{staticClass:"amount"},[e._v(e._s(e._f("toFixed")(e.filterData(t.key).balance,10)))]),a("p",[e._v("≈--")])]),a("div",{staticClass:"withdrawal",on:{click:e.openRewardDialog}},[a("label",{staticClass:"btn-hover"},[e._v(e._s(e.$t("tradeAndMine.withdrawReward")))])])])])]),a("div",{staticClass:"recharge-withdrawal"},[a("section",{staticClass:"tab-header"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.$t("pool.addLiquidity"),name:"input-fluidity"}}),a("el-tab-pane",{attrs:{label:e.$t("pool.extract"),name:"output-fluidity"}})],1)],1),e.poolType===t.type?a("section",{staticClass:"tab-content"},[a(e.activeName,{tag:"component",attrs:{reset:e.dialogVisible,poolType:t.type,lptokenTotal:e.assetsInfo.lptokenTotal},on:{refresh:e.refresh}})],1):e._e()]),e.poolType?a("Pool",{attrs:{poolType:e.poolType}}):e._e()],1)})),0)]),e.dialogVisible?a("div",[a("MiningDialog",{attrs:{showDialog:e.dialogVisible,poolType:e.poolType,operateType:e.operateType},on:{"update:showDialog":function(t){e.dialogVisible=t},"update:show-dialog":function(t){e.dialogVisible=t},refresh:e.refresh}})],1):e._e(),e.showRewardDialog?a("div",[a("dialogRewardPickup",{attrs:{showDialog:e.showRewardDialog,banlance:e.assetsInfo.coreMinter},on:{"update:showDialog":function(t){e.showRewardDialog=t},"update:show-dialog":function(t){e.showRewardDialog=t},applayReward:e.applayPledgeReward}})],1):e._e()])},r=[],o=n("5530"),s=n("1da1"),c=(n("96cf"),n("b680"),n("4160"),n("159b"),n("0d03"),n("d3b7"),n("25f0"),n("7db0"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"pool-wrapper"},[n("li",{staticClass:"pool-size"},[n("p",{staticClass:"title"},[e._v(e._s(e.$t("common.lockedTotal"))+"：")]),n("ul",[e._l(e.poolScope,(function(t,a){return n("li",{key:a},[e._v(e._s(t.currency)+"("+e._s(t.chain)+")："+e._s(t.balance)+" "+e._s(e.percent(t.balance)))])})),e.summary?n("li",[e._v(e._s(e.summary)+" : ")]):e._e(),n("li",[e._v(e._s(e.poolTotal||"--"))])],2),n("ul",{staticClass:"fee-wrapper"},[n("li",[e._v("Fee: "+e._s(e._f("toPercent")(e.feeInfo&&e.feeInfo.fee)))]),n("li",[e._v("Admin fee: "+e._s(e._f("toPercent")(e.feeInfo&&e.feeInfo.adminFee))+" of "+e._s(e._f("toPercent")(e.feeInfo&&e.feeInfo.fee)))]),n("li",[e._v(e._s(e.$t("common.ramping"))+": "+e._s(e.feeInfo&&e.feeInfo.a))])])]),n("li",{staticClass:"main"},[n("p",{staticClass:"title"},[e._v(e._s(e.$t("common.my"))+" ("+e._s(e._f("toPercent")(e.rate&&e.rate))+")：")]),n("ul",[e._l(e.poolScope,(function(t,a){return n("li",{key:a},[e._v(e._s(t.currency)+" ("+e._s(t.chain)+")："+e._s(t.mine))])})),e.summary?n("li",[e._v(e._s(e.summary)+" : ")]):e._e(),n("li",[e._v(e._s(e.mineTotal||"--"))])],2)])])}),i=[],l=(n("d81d"),n("13d5"),n("99af"),n("a15b"),n("ed08")),u=n("0c6d"),p=n("2f62"),d=n("c9d9"),f={props:{poolType:{type:String,default:function(){return""}}},data:function(){return{poolScope:[],feeInfo:null,rate:""}},created:function(){this.init()},methods:{init:function(){this.queryFee(),this.queryPoolScope()},queryPoolScope:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.poolScope=[],n=[],a=e.currentPool&&e.currentPool.currencies.length,t.next=6,u["a"].queryPoolData({size:a,pool:e.currentPool.key});case 6:r=t.sent,o=r.amounts,s=void 0===o?[]:o,e.currentPool.currencies.map((function(e,t){n.push({chain:e.chain,currency:e.currency,decimals:e.decimals,balance:Object(l["r"])(s[t],e.decimals).toString(),mine:""})})),e.poolScope=n,e.queryMine(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.poolScope=[];case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},percent:function(e){if(""!==e){var t=$big(e).div(this.poolTotal).times(100).toFixed(2);return t?"(".concat(t,"%)"):""}},queryFee:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].queryPoolFee({pool:e.currentPool.key}).then((function(t){e.feeInfo=t}));case 1:case"end":return t.stop()}}),t)})))()},queryMine:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c,i,p,f,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.accountInfo["HECO"],e.chainId===d["b"].HECO){t.next=3;break}return t.abrupt("return");case 3:if(e.currentPool&&n){t.next=5;break}return t.abrupt("return");case 5:if(a=e.currentPool.LPtoken,r=void 0===a?{}:a,r.address&&configInstance.minter){t.next=8;break}return t.abrupt("return");case 8:return o=e.$options.filters.toFixed,t.next=11,u["a"].lptokenTotal({lpContract:e.currentPool.LPtoken.address,account:n});case 11:return s=t.sent,t.next=14,u["a"].deposited({minter:configInstance.minter,account:n,pool:e.currentPool.key});case 14:return c=t.sent,i={lpAbi:r.abi,lpAddress:r.address,account:n},t.next=18,Object(l["h"])(i);case 18:if(p=t.sent,f=p.totalSupply,s.balance&&c.balance&&e.poolScope){t.next=22;break}return t.abrupt("return");case 22:h=$big.add(+s.balance,+s.balance),m=$big.div(+h,+f),e.rate=Object(l["o"])(o(m.toString(),10)).toString()||0,e.poolScope=e.poolScope.map((function(t){var n=new $big(+t.balance).times(+e.rate).toString();return t=Object.assign({},t,{mine:n}),t}));case 26:case"end":return t.stop()}}),t)})))()}},watch:{currentPool:{handler:function(){this.init()},deep:!0},chainId:{handler:function(){this.queryMine()},deep:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(p["d"])(["accountInfo","chainId"])),{},{currentPool:function(){var e=this;return configInstance.getPools().find((function(t){return t.type===e.poolType}))||null},poolTotal:function(){return this.poolScope.reduce((function(e,t){return $big(e).plus(t.balance).toString()}),0)},mineTotal:function(){var e=0;return this.poolScope.forEach((function(t){e=t.mine>0&&$big(e).plus(t.mine).toString()})),e},summary:function(){var e=[];return this.poolScope.forEach((function(t){e.push("".concat(t.currency,"(").concat(t.chain,")"))})),e.join("+")}})},h=f,m=(n("f318"),n("2877")),g=Object(m["a"])(h,c,i,!1,null,"2b9a3216",null),b=g.exports,v=n("ea27"),y=n("ce23"),k=n("9a39"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseDialog",e._b({staticClass:"mining-wrapper",attrs:{showDialog:e.dialogVisible},on:{"update:showDialog":function(t){e.dialogVisible=t},"update:show-dialog":function(t){e.dialogVisible=t},cancel:e.handleClose}},"BaseDialog",e.propsConfig,!1),[n("section",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"left"},[n("div",{staticClass:"row-1"},[n("section",[e.account?n("span",{staticClass:"connect"},[n("label",{staticClass:"chain-btn",attrs:{for:""}},[e._v("HECO")]),e._v(" "+e._s(e._f("formatAdress")(e.account)))]):e._e()])]),n("div",{staticClass:"row-4"},[n("section",{staticClass:"left amount"},[n("NumberInput",{staticClass:"input",attrs:{precision:18,placeholder:"0.00"},model:{value:e.pledgeOrPickUpAmount,callback:function(t){e.pledgeOrPickUpAmount=t},expression:"pledgeOrPickUpAmount"}}),n("span",{staticClass:"balance font-family"},[e._v(e._s(e.$t("common.balance"))+": "+e._s(e.lptokenInfo.balance||"--"))])],1),n("div",{staticClass:"right font-family",staticStyle:{cursor:"pointer"},on:{click:e.setMax}},[e._v(e._s(e.$t("common.max")))])]),n("p",{staticClass:"staking-tips"},[e._v(e._s(e.$t("pool.stakingtips")))]),e.account?e.isCurrentNet?[Number(e.pledgeOrPickUpAmount)<=0?n("button",{staticClass:"btn primary-button gray"},[e._v(e._s(e.$t("tradeAndMine.inputAmount")))]):e._e(),Number(e.pledgeOrPickUpAmount)>0&&Number(e.pledgeOrPickUpAmount)>Number(e.lptokenInfo.balance)?n("button",{staticClass:"btn primary-button gray"},[e._v(" "+e._s(e.$t("common.insufficientBalance"))+" ")]):e._e(),Number(e.pledgeOrPickUpAmount)>0&&Number(e.pledgeOrPickUpAmount)<=Number(e.lptokenInfo.balance)?n("button",{staticClass:"btn primary-button",on:{click:function(t){return e.pledgeOrPickUpHandel()}}},[e._v(" "+e._s("pledge"===e.command?e.$t("tradeAndMine.oneKeyStake"):e.$t("tradeAndMine.oneKeyWithdraw"))+" ")]):e._e()]:[n("button",{staticClass:"btn primary-button",on:{click:function(t){return e.changeNet()}}},[e._v(e._s(e.$t("common.switchNetwork")))])]:[n("button",{staticClass:"btn primary-button",on:{click:e.linkWallet}},[e._v(e._s(e.$t("common.connect",{chain:"HECO"})))])]],2)])])},C=[],w=n("a0b9"),x=n("d610"),A={components:{BaseDialog:w["a"],NumberInput:x["a"]},props:{operateType:{type:String,default:function(){return"pledge"}},showDialog:{type:Boolean,default:function(){return!1}},poolType:{type:String}},data:function(){return{lptokenInfo:{},poolLpTokenBanlance:"",poolsList:configInstance.getPools(),command:"pledge",poolTypeTag:"",pledgeOrPickUpAmount:"",mainNet:"HECO",propsConfig:{width:"510px",isShowBtn:!1,title:""},account:"",isLink:!1}},watch:{isCurrentNet:{handler:function(){this.getLptokenBanlance()},immediate:!0},accountInfo:{handler:function(e){e.HECO&&(this.account=e.HECO,this.handleCommand(this.command))},deep:!0,immediate:!0},operateType:function(e){this.command=e||this.command,this.propsConfig.title="pledge"===e?this.$t("pool.stakingLpTokens"):this.$t("pool.removeLpTokens"),this.getLptokenBanlance()},poolType:function(){this.poolTypeTag=this.poolType,this.getLptokenBanlance()}},computed:Object(o["a"])(Object(o["a"])({},Object(p["d"])(["chainId","accountInfo"])),{},{isCurrentNet:function(){return this.chainId===d["b"]["HECO"]},dialogVisible:{get:function(){return this.showDialog},set:function(e){this.$emit("update:showDialog",e)}},selectedPool:function(){var e=this;return this.poolsList.find((function(t){return t.type===e.poolTypeTag}))}}),mounted:function(){this.init()},methods:Object(o["a"])(Object(o["a"])({},Object(p["c"])(["updateChainId"])),{},{handleClose:function(){this.$emit("refresh")},init:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.command=e.operateType?e.operateType:e.command,e.propsConfig.title="pledge"===e.command?e.$t("pool.stakingLpTokens"):e.$t("pool.removeLpTokens"),e.poolTypeTag=e.poolType,"0x100"===sessionStorage.chainId){t.next=8;break}return t.next=6,Object(l["d"])({target:"HECO"});case 6:t.next=9;break;case 8:e.updateChainId(sessionStorage.chainId);case 9:e.handleCommand(e.command);case 10:case"end":return t.stop()}}),t)})))()},setMax:function(){this.pledgeOrPickUpAmount=this.lptokenInfo.balance},linkWallet:function(){this.accountInfo.HECO?(this.account=this.accountInfo.HECO,this.handleCommand(this.command)):this.openWalletDialog({chain:"HECO"})},changeNet:function(){Object(l["d"])({target:"HECO"})},handleCommand:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.command=e,t.pledgeOrPickUpAmount="",t.getLptokenBanlance();case 3:case"end":return n.stop()}}),n)})))()},getLptokenBanlance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.account||!e.poolTypeTag){t.next=10;break}return t.next=3,Object(l["h"])({lpAbi:e.selectedPool.LPtoken.abi,lpAddress:e.selectedPool.LPtoken.address,account:e.account});case 3:return n=t.sent,t.next=6,Object(l["i"])(Object(o["a"])(Object(o["a"])({},v["a"].minter),{},{address:configInstance.minter,poolNo:e.selectedPool.key,account:e.account,decimals:e.selectedPool.LPtoken.decimals}));case 6:a=t.sent,"pickUp"===e.command&&(n.balance=a),e.lptokenInfo=n,e.poolLpTokenBanlance=a;case 10:case"end":return t.stop()}}),t)})))()},pledgeOrPickUpHandel:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==new $big(e.lptokenInfo.balance).comparedTo(new $big(e.pledgeOrPickUpAmount))){t.next=2;break}return t.abrupt("return",e.$message.error(e.$t("common.insufficientBalance")));case 2:return t.next=4,e.checkNode({chain:"heco"});case 4:if(n=t.sent,n){t.next=7;break}return t.abrupt("return");case 7:e.dialogVisible=!1,"pledge"===e.command?e.pledge():e.pickUp();case 9:case"end":return t.stop()}}),t)})))()},pledge:function(){var e=this;Object(l["l"])({lpAbi:this.selectedPool.LPtoken.abi,lpAddress:this.selectedPool.LPtoken.address,account:this.account,minterAbi:v["a"].minter.abi,minterAddress:configInstance.minter,poolNo:this.selectedPool.key,amount:this.pledgeOrPickUpAmount,decimals:this.selectedPool.LPtoken.decimals,mainNet:"HECO"===this.mainNet?0:1,currency:"LPtoken",chain:"HECO"},this).then((function(t){if(t.status)return e.getLptokenBanlance(),e.pledgeOrPickUpAmount="",e.$emit("refresh"),void e.changeDialogOption({tradeStatus:"success"});e.changeDialogOption({tradeStatus:"failed"})}))["catch"]((function(t){e.changeDialogOption({tradeStatus:"failed"})}))},pickUp:function(){var e=this;this.openDialog({tradeStatus:"waiting"}),Object(l["m"])({account:this.account,minterAbi:v["a"].minter.abi,minterAddress:configInstance.minter,poolNo:this.selectedPool.key,amount:this.pledgeOrPickUpAmount,decimals:this.selectedPool.LPtoken.decimals,mainNet:"HECO"===this.mainNet?0:1}).then((function(t){if("success"===t.type)return e.getLptokenBanlance(),e.pledgeOrPickUpAmount="",e.changeDialogOption({tradeStatus:"success"}),void e.$emit("refresh");e.changeDialogOption({tradeStatus:"failed"})}))["catch"]((function(){e.changeDialogOption({tradeStatus:"failed"})}))},openFullScreen:function(){this.loading=this.$loading({lock:!0,customClass:"approving-loadind",text:this.$t("common.approving"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}})},I=A,O=(n("5490"),Object(m["a"])(I,_,C,!1,null,"4b43f7d6",null)),T=O.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"withdrawal-wrapper"},[a("section",{staticClass:"content"},[a("div",{staticClass:"to-wrapper"},[a("p",{staticClass:"name-text"},[e._v(e._s(e.$t("pool.selectToken")))]),a("ul",{staticClass:"block-wrapper options-box"},e._l(e.selectedCurrencies,(function(t,r){return a("li",{key:r,staticClass:"item-wrapper"},[a("section",{staticClass:"currency-item-left"},[a("ul",{staticClass:"left-info"},[a("li",[a("img",{staticClass:"currency-icon",attrs:{src:n("e107")("./"+t.icon),alt:""}})]),a("li",[a("p",{staticClass:"font-family"},[e._v(e._s(t.currency))]),a("p",{staticClass:"chain-name"},[e._v(e._s(t.chain))])])]),a("img",{staticClass:"status-icon fixed-icon",attrs:{src:n("e107")("./"+(t.toAddress?"status-active.svg":"status.svg")),alt:""},on:{click:function(n){return e.linkWallet("toAddress",t)}}})]),a("div",{staticClass:"amount-wrapper"},[a("div",{staticClass:"amount-box"},[a("div",{staticClass:"amount-left"},[a("NumberInput",{staticClass:"input",attrs:{disabled:!t||!t.selected,precision:18,placeholder:"0.00"},on:{change:e.inputAmount},model:{value:t.amount,callback:function(n){e.$set(t,"amount",n)},expression:"item.amount"}}),a("p",{staticClass:"balance font-family"},[a("label",{staticClass:"connect-label-name",attrs:{for:""}},[e._v(e._s(e.$t("pool.connect")))]),e._v(e._s(e._f("formatAdress")(t.toAddress)))])],1),t.toAddress&&e.currencyInfo.currencyChain===t.currencyChain?a("div",{staticClass:"right-max"},[a("label",{staticClass:"max-btn font-family",on:{click:function(n){return e.setMax(t)}}},[e._v(e._s(e.$t("common.max")))])]):e._e()])]),a("div",{staticClass:"select-icon",on:{click:function(n){return e.handleChange(t)}}},[a("img",{staticClass:"right-icon",attrs:{src:t&&t.selected?e.image.select:e.image.notSelect,alt:""}})])])})),0)]),a("p",{staticClass:"line"}),a("div",{staticClass:"bottom"},["selfChain3pool"!==e.formData.pool?a("p",{staticClass:"withdrawal-message"},[e._v(e._s(e.$t("tradeAndMine.consumedGas"))+": "+e._s(e.receiveAmount().gas))]):e._e(),a("p",{staticClass:"withdrawal-message"},[e._v(e._s(e.$t("tradeAndMine.estimatedReceived"))+":"+e._s(e.receiveAmount().estimate))]),a("button",{staticClass:"primary-button",class:e.allowSend?"able-btn":"disable-btn",attrs:{disabled:!e.allowSend},on:{click:function(t){return e.sendTransparent(e.confirmText)}}},[e._v(e._s(e.btnAction[e.confirmText]))])])])])},P=[],S=(n("cb29"),n("0091")),F=n.n(S),j=n("bb7e"),D=n.n(j),R=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o,s,c,i,u,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.lockAbi,a=t.lockAddress,r=t.toAddress,o=t.amount,s=t.key,c=t.minDx,i=void 0===c?0:c,u=t.account,p=Object(l["b"])(n,a),e.prev=2,e.next=5,p.methods.removeLiquidityOne(r,o,s,i).send({from:u});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e["catch"](2),console.log("error",e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return new Promise(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:r=t.sent,n(r),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())},N={components:{NumberInput:x["a"]},props:{poolType:{type:String},lptokenTotal:{default:function(){return 0}}},data:function(){return{image:{select:F.a,notSelect:D.a},poolsList:configInstance.getPools(),formData:{pool:"selfChain3pool",fromAmount:"",fromAddress:"",toAddress:"",auth:!0,withdrawType:"single",send:!1,link:!1,balance:""},currencyInfo:"",estimateFee:null}},mounted:function(){this.formData.pool=this.poolType},methods:{clearForm:function(){this.formData.auth=!0,this.estimateFee=null,this.selectedCurrencies.map((function(e){return e.disabled=!1,e.amount="",e.maxAmount="",e}))},reload:function(){this.clearForm(),this.queryMaxAmount(),this.queryEstimateFee()},queryMaxAmount:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.currencyInfo,a=n.maxAmount,r=n.decimals,o=n.key,!a&&Number(e.lptokenTotal)&&e.currencyInfo){t.next=3;break}return t.abrupt("return");case 3:return s={pool:e.selectedPool.key,coin:o,tokenAmount:Object(l["s"])(e.lptokenTotal,18).toString()},t.next=6,u["a"].withdrawOneCoin(s);case 6:c=t.sent,i=c.amount,e.currencyInfo.maxAmount=Object(l["n"])(Object(l["r"])(i,r).toString());case 9:case"end":return t.stop()}}),t)})))()},handleChange:function(e){var t=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.length>1&&void 0!==t[1]&&t[1],!e.disabled){a.next=3;break}return a.abrupt("return");case 3:n.selectedCurrencies.map((function(t){t.currencyChain===e.currencyChain?(t.selected=!0,n.currencyInfo=t):(t.amount="",t.selected=!1)})),n.$nextTick((function(){n.checkAuth(),n.queryMaxAmount(),r||n.linkWallet("",e)}));case 5:case"end":return a.stop()}}),a)})))()},linkWallet:function(e){var t=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.length>1&&void 0!==t[1]?t[1]:null,e.prev=1,r=a.chain,n.accountInfo&&n.accountInfo[r]){e.next=8;break}return n.$set(a,"toAddressLock",!0),n.openWalletDialog({chain:r}),n.handleChange(a,!0),e.abrupt("return");case 8:n.$set(a,"toAddress",n.accountInfo[r]),n.handleChange(a,!0),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))()},auth:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.currencyInfo.toAddress&&e.currencyInfo){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(l["d"])({target:"HECO"});case 5:n=e.selectedPool,a=n.LPtoken,r=n.withdrawProxy,o={abi:a.abi,address:a.address,account:e.currencyInfo.toAddress,currency:e.currencyInfo.currency,chain:e.currencyInfo.chain,approveAddress:r.address,decimals:e.currencyInfo.decimals},e.loading=e.$loading({lock:!0,text:e.$t("common.approving"),spinner:"el-icon-loading",customClass:"approving-loadind",background:"rgba(0, 0, 0, 0.7)"}),Object(l["a"])(o,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading.close(),n){t.next=3;break}return t.abrupt("return",e.$message.error(e.$t("common.insufficientBalance")));case 3:e.formData.auth=!0;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loading.close(),console.log(t.t0,"error");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},setMax:function(e){if(!Number(e.maxAmount))return this.$message.error(this.$t("common.insufficientBalance"));e.amount=e.maxAmount},doAuth:function(){this.auth()},sendTransparent:function(e){if(-1===new $big(this.currencyInfo.maxAmount).comparedTo(new $big(this.currencyInfo.amount))||this.getReceive()<=0)return this.$message.error(this.$t("pool.errorTips"));this[e]("HECO")},changeNet:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l["d"])({target:e});case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},send:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c,i,p,d,f,h,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.changeNet("HECO"),n){t.next=3;break}return t.abrupt("return");case 3:return e.checkAuth(),a=e.selectedPool,r=a.withdrawProxy,o=a.key,s=e.currencyInfo,c=s.decimals,i=s.key,p=s.amount,d=new Array(e.selectedCurrencies.length).fill(0),d[i]=Object(l["s"])(p,c).toString(),t.next=10,u["a"].calcTokenAmount({pool:o,amounts:d});case 10:if(f=t.sent,f&&f.amount){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,e.checkNode({chain:"heco"});case 15:if(h=t.sent,h){t.next=18;break}return t.abrupt("return");case 18:m={lockAbi:r.abi,lockAddress:r.address,toAddress:e.currencyInfo.toAddress,amount:f.amount,key:e.currencyInfo.key,minDx:0,account:e.currencyInfo.toAddress},e.openDialog({tradeStatus:"waiting"}),E(m).then((function(t){if(t.status)return e.changeDialogOption({tradeStatus:"pending",type:3,hash:t.transactionHash}),void(e.dialogVisible||(e.reload(),e.$emit("refresh")));e.changeDialogOption({tradeStatus:"failed"})}))["catch"]((function(){e.changeDialogOption({tradeStatus:"failed"})}));case 21:case"end":return t.stop()}}),t)})))()},inputAmount:function(e){e&&(this.currencyInfo.maxAmount&&-1!==new $big(this.currencyInfo.maxAmount).comparedTo(new $big(this.currencyInfo.amount))?this.queryEstimateFee():this.$message.error(this.$t("common.insufficientBalance")))},queryEstimateFee:function(){var e=this;if(this.currencyInfo){var t={pool:this.selectedPool.key,chain:"Ether"===this.currencyInfo.chain?"ETH":this.currencyInfo.chain,currency:this.currencyInfo.currency};u["a"].estimateFee(t).then((function(t){e.estimateFee=t.amount}))}},receiveAmount:function(){var e={gas:"",estimate:""};if(!this.currencyInfo)return e;var t=this.selectedCurrencies.find((function(e){return e.selected}));if(!t||!t.amount)return e;var n=this.currencyInfo,a=n.currency,r=n.chain;if(this.estimateFee&&"selfChain3pool"!==this.formData.pool){var o=new $big(+t.amount).minus(this.estimateFee).toString();e.gas="".concat(this.estimateFee," ").concat(a),e.estimate="".concat(o," ").concat(a,"(").concat(r,")")}else e.estimate="".concat(t.amount).concat(a,"(").concat(r,")");return e},getReceive:function(){var e=this.selectedCurrencies.find((function(e){return e.selected}));if(e)return this.estimateFee?new $big(+e.amount).minus(this.estimateFee).toString():void 0},checkAuth:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currencyInfo.toAddress){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(l["d"])({target:"HECO"});case 4:return n=e.selectedPool,a=n.LPtoken,r=n.withdrawProxy,o={abi:a.abi,address:a.address,account:e.currencyInfo.toAddress,approveAddress:r.address},t.next=8,Object(l["c"])(o);case 8:e.formData.auth=!!t.sent;case 9:case"end":return t.stop()}}),t)})))()},getCurrentAcount:function(){var e=this;this.selectedCurrencies.map((function(t){return t.toAddressLock&&e.$set(t,"toAddress",e.accountInfo[t.chain]),t}))},openFullScreen:function(){this.loading=this.$loading({lock:!0,text:this.$t("common.approving"),spinner:"el-icon-loading",customClass:"approving-loadind",background:"rgba(0, 0, 0, 0.7)"})}},watch:{chainId:{handler:function(e){"0x100"===e&&(this.checkAuth(),this.queryMaxAmount())},deep:!0,immediate:!0},accountInfo:{handler:function(e){e&&this.getCurrentAcount()},deep:!0},lptokenTotal:{handler:function(e){e&&this.queryMaxAmount()},deep:!0,immediate:!0},dialogVisible:{handler:function(e){e||(this.reload(),this.$emit("refresh"))},deep:!0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(p["d"])(["chainId","currentAddress","accountInfo"])),Object(p["d"])("common",["dialogVisible"])),{},{selectedCurrencies:function(){var e=this,t=this.poolsList.find((function(t){return t.type===e.formData.pool})),n=t&&JSON.parse(JSON.stringify(t.currencies));return n=n.map((function(e){return e.selected=!1,e.disabled=!1,e.toAddressLock=!1,e.amount="",e.maxAmount="",e.toAddress="",e})),n},selectedPool:function(){var e=this;return this.poolsList.find((function(t){return t.type===e.formData.pool}))},confirmText:function(){return this.currencyInfo.amount?this.currencyInfo.toAddress?this.formData.auth?"0x100"!==this.chainId?"changeNet":"send":"doAuth":"link":"inputAmount"},btnAction:function(){return{inputAmount:this.$t("withdraw.inputAmount"),doAuth:this.$t("deposit.approve"),link:this.$t("common.connect",{chain:this.currencyInfo&&this.currencyInfo.chain}),changeNet:this.$t("common.switchNetwork"),send:this.$t("deposit.send")}},allowSend:function(){return!!(this.currencyInfo&&this.currencyInfo.toAddress&&this.currencyInfo.amount&&this.currencyInfo.maxAmount)}})},H=N,L=(n("3b2a"),Object(m["a"])(H,$,P,!1,null,"01324c80",null)),M=L.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"recharge-wrapper"},[a("section",{staticClass:"content"},[a("p",{staticClass:"name-text"},[e._v(e._s(e.$t("pool.selectNetwork")))]),a("div",{staticClass:"from-wrapper"},[a("ul",{staticClass:"block-wrapper options-box"},e._l(e.selectedCurrencies,(function(t,r){return a("li",{key:r,staticClass:"currency-item",on:{click:function(n){return e.handleChange(t)}}},[a("ul",{staticClass:"left-info"},[a("li",[a("img",{staticClass:"currency-icon",attrs:{src:n("e107")("./"+t.icon),alt:""}})]),a("li",[a("p",{staticClass:"font-family"},[e._v(e._s(t.currency))]),a("p",{staticClass:"chain-name"},[e._v(e._s(t.chain))])])]),a("img",{staticClass:"select-icon fixed-icon",attrs:{src:t.currencyChain===e.currencyChain?e.image.select:e.image.notSelect,alt:""}}),a("img",{staticClass:"status-icon fixed-icon",attrs:{src:n("e107")("./"+(e.rechargeForm.fromAddress?"status-active.svg":"status.svg")),alt:""},on:{click:function(t){return e.linkWallet("fromAddress")}}})])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:e.currencyInfo,expression:"currencyInfo"}],staticClass:"link-wallet from-link-wallet"},[e.rechargeForm.fromAddress?a("p",{staticClass:"wallet-address"},[e._v(e._s(e.$t("common.connected",{chain:e.currencyInfo.chain}))+": "+e._s(e._f("formatAdress")(e.rechargeForm.fromAddress)))]):a("p",{staticClass:"link-wallet-btn",on:{click:function(t){return e.linkWallet("fromAddress")}}},[a("img",{staticClass:"link-wallet-icon",attrs:{src:n("8232"),alt:""}}),e._v(" "+e._s(e.$t("common.connect",{chain:e.currencyInfo.chain}))+" ")])])]),a("p",{staticClass:"name-text from-number"},[e._v(e._s(e.$t("pool.number")))]),a("div",{staticClass:"amount-wrapper"},[a("div",{staticClass:"block-wrapper amount-box"},[a("div",{staticClass:"amount-left"},[a("NumberInput",{staticClass:"input",attrs:{precision:e.currencyInfo.decimals,placeholder:"0.00",disabled:!e.banlanceInfo||!e.banlanceInfo.banlance},on:{change:e.inputAmount},model:{value:e.rechargeForm.fromAmount,callback:function(t){e.$set(e.rechargeForm,"fromAmount",t)},expression:"rechargeForm.fromAmount"}}),a("p",{staticClass:"balance font-family"},[e._v(e._s(e.$t("common.balance"))+": "+e._s(e.banlanceInfo&&e.banlanceInfo.banlance||"--"))])],1),e.rechargeForm.fromAddress?a("div",{staticClass:"right-max"},[a("label",{staticClass:"max-btn font-family",on:{click:e.setMax}},[e._v(e._s(e.$t("common.max")))])]):e._e()]),e.rechargeForm.fromAddress&&!e.rechargeForm.auth?a("div",{staticClass:"auth",on:{click:e.auth}},[e._v(e._s(e.$t("deposit.approve")))]):e._e()]),a("p",{staticClass:"line"}),a("div",[a("p",{staticClass:"name-text"},[e._v(e._s(e.$t("pool.getHECO")))]),e.rechargeForm.toAddress?e._e():a("p",{staticClass:"link-wallet-btn link-wallet",on:{click:function(t){return e.linkWallet("toAddress")}}},[a("img",{staticClass:"link-wallet-icon",attrs:{src:n("8232"),alt:""}}),e._v(" "+e._s(e.$t("common.connect",{chain:"HECO"}))+" ")]),a("div",{staticClass:"to-box"},[a("label",[e._v(e._s(e.$t("pool.get")))]),e.rechargeForm.lptoken?a("label",[e._v(e._s((e.rechargeForm.lptoken||"--")+" LP")+"（≈"+e._s(e.rechargeForm.fromAmount||"--")+" "+e._s(e.currencyInfo.currency)+"）")]):e._e()]),a("div",{staticClass:"to-box"},[a("label",[e._v(e._s(e.$t("pool.receiveAddress")))]),a("label",[e._v(e._s(e._f("formatAdress")(e.rechargeForm.toAddress)))])])]),a("button",{staticClass:"primary-button",class:e.allowSend?"able-btn":"disable-btn",attrs:{disabled:!e.allowSend},on:{click:function(t){return e.sendTransparent(e.confirmText)}}},[e._v(e._s(e.btnAction[e.confirmText]))])])])},V=[],q=n("cf45"),U=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,o,s,c,i,u,p,d,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.lockAbi,a=t.lockAddress,r=t.lpTokenAddr,o=t.amount,s=t.decimals,c=t.key,i=t.account,u=t.currency,p=t.chain,d=t.currencyKey,f=Object(l["b"])(n,a),e.prev=2,0!==c){e.next=7;break}return e.next=6,f.methods.addLiquidityOne(r,d,Object(l["s"])(o,s).toString(),0).send({from:i});case 6:return e.abrupt("return",e.sent);case 7:if(h=null,"ETH"!==u||"Ether"!==p){e.next=14;break}return e.next=11,f.methods.lockAdd(r,c).send({from:i,value:Object(l["s"])(o,s).toString()});case 11:h=e.sent,e.next=17;break;case 14:return e.next=16,f.methods.lockAdd(r,Object(l["s"])(o,s).toString(),c).send({from:i});case 16:h=e.sent;case 17:return e.abrupt("return",h);case 20:e.prev=20,e.t0=e["catch"](2),console.log("error",e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){return new Promise(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:r=t.sent,n(r),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}())},G={components:{NumberInput:x["a"]},props:{poolType:{type:String},reset:{type:Boolean}},data:function(){return{loading:!1,image:{select:F.a,notSelect:D.a},poolsList:configInstance.getPools(),rechargeForm:{pool:"selfChain3pool",fromAmount:"",fromAddress:"",toAddress:"",auth:!0,send:!1,usdAmount:"",lptoken:"",toAddressLock:!1,fromAddressLock:!0},currencyChain:"",currencyInfo:"",banlanceInfo:null}},mounted:function(){this.rechargeForm.pool=this.poolType,this.init()},methods:{init:function(){this.clearForm()},reload:function(){this.rechargeForm.fromAmount="",this.banlanceInfo=null,this.rechargeForm.auth=!0,this.rechargeForm.usdAmount="",this.rechargeForm.lptoken=""},clearForm:function(){this.rechargeForm.fromAddress="",this.rechargeForm.fromAmount="",this.banlanceInfo=null,this.rechargeForm.auth=!0,this.rechargeForm.usdAmount="",this.rechargeForm.lptoken=""},change:function(){var e=this;this.currencyChain=this.selectedCurrencies[0].currencyChain,this.currencyInfo=this.selectedCurrencies[0],this.$nextTick((function(){e.getCurrentAcount()}))},handleChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.currencyChain!==t.currencyChain){n.next=2;break}return n.abrupt("return");case 2:t.currencyChain=e.currencyChain,t.currencyInfo=e,t.clearForm(),t.$nextTick((function(){t.getCurrentAcount()}));case 6:case"end":return n.stop()}}),n)})))()},checkAuth:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.rechargeForm.fromAddress){t.next=2;break}return t.abrupt("return");case 2:return n=e.selectedPool,a=n.withdrawProxy,r=n.key,o={abi:e.currencyInfo.abi,address:e.currencyInfo.address,approveAddress:0===r?a.address:e.currencyInfo.lockAddress,account:e.rechargeForm.fromAddress,chain:e.currencyInfo.chain,currency:e.currencyInfo.currency},t.next=6,Object(l["c"])(o);case 6:e.rechargeForm.auth=!!t.sent;case 7:case"end":return t.stop()}}),t)})))()},changeNetAndGetBalance:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.rechargeForm["fromAddress"]&&e.currencyInfo){t.next=2;break}return t.abrupt("return");case 2:return n=e.currencyInfo,a=n.abi,r=n.address,o=n.chain,s=n.currency,t.next=5,e.changeNet(o);case 5:if(c=t.sent,c){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,Object(l["f"])({abi:a,address:r,account:e.rechargeForm["fromAddress"],chain:o,currency:s});case 10:e.banlanceInfo=t.sent;case 11:case"end":return t.stop()}}),t)})))()},linkWallet:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r,o,s,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.currencyInfo,r=a.abi,o=a.address,s=a.chain,c=a.currency,n.prev=1,"fromAddress"!==e){n.next=21;break}if(!t.rechargeForm.fromAddress){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,t.changeNet(s);case 7:if(i=n.sent,i){n.next=11;break}return t.banlanceInfo=null,n.abrupt("return");case 11:if(t.accountInfo&&t.accountInfo[s]){n.next=14;break}return t.openWalletDialog({chain:s}),n.abrupt("return");case 14:return t.rechargeForm[e]=t.accountInfo&&t.accountInfo[s],n.next=17,Object(l["f"])({abi:r,address:o,account:t.rechargeForm[e],chain:s,currency:c});case 17:t.banlanceInfo=n.sent,t.checkAuth(),n.next=32;break;case 21:if(n.prev=21,t.rechargeForm.toAddressLock=!0,t.accountInfo&&t.accountInfo["HECO"]){n.next=26;break}return t.openWalletDialog({chain:"HECO"}),n.abrupt("return");case 26:t.rechargeForm[e]=t.accountInfo["HECO"],n.next=32;break;case 29:n.prev=29,n.t0=n["catch"](21),console.log("linkWallet",n.t0);case 32:n.next=37;break;case 34:n.prev=34,n.t1=n["catch"](1),console.log(n.t1,"error");case 37:case"end":return n.stop()}}),n,null,[[1,34],[21,29]])})))()},auth:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currencyInfo&&e.rechargeForm.fromAddress){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.changeNet(e.currencyInfo.chain);case 5:n=e.selectedPool,a=n.withdrawProxy,r=n.key,o={abi:e.currencyInfo.abi,address:e.currencyInfo.address,approveAddress:0===r?a.address:e.currencyInfo.lockAddress,account:e.rechargeForm.fromAddress,decimals:e.currencyInfo.decimals,currency:e.currencyInfo.currency,chain:e.currencyInfo.chain},Object(l["a"])(o,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return e.rechargeForm.auth=!1,t.abrupt("return",e.$message.error(e.$t("common.insufficientBalance")));case 3:e.rechargeForm.auth=!0;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log("auth error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},setMax:function(){this.rechargeForm.fromAmount=this.banlanceInfo&&this.banlanceInfo.banlance},queryLPtoken:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.rechargeForm.fromAmount){t.next=18;break}return t.prev=1,n=e.selectedPool.key,a=e.currencyInfo,r=a.decimals,o=a.key,s=new Array(e.selectedCurrencies.length).fill(0),s[o]=Object(l["s"])(e.rechargeForm.fromAmount,r).toString(),t.next=8,u["a"].calcTokenAmount({pool:n,amounts:s});case 8:c=t.sent,i=c.amount,e.rechargeForm.lptoken=i?Object(l["n"])(Object(l["r"])(i,18).toString()):"",t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),console.log(t.t0,"error"),e.rechargeForm.lptoken="";case 17:return t.abrupt("return");case 18:e.rechargeForm.lptoken="";case 19:case"end":return t.stop()}}),t,null,[[1,13]])})))()},queryPutAmount:Object(q["a"])(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={chain:"Ether"===this.currencyInfo.chain?"ETH":this.currencyInfo.chain,currency:this.currencyInfo.currency,amount:this.rechargeForm.fromAmount},u["a"].putAmount(t).then((function(e){n.rechargeForm.usdAmount=e&&e.amount}));case 2:case"end":return e.stop()}}),e,this)}))),1e3),inputAmount:function(e){if(e){if(!this.banlanceInfo||-1===new $big(this.banlanceInfo.banlance).comparedTo(new $big(e)))return this.$message.error(this.$t("common.insufficientBalance"));this.queryLPtoken(),this.queryPutAmount()}else this.rechargeForm.lptoken=""},sendTransparent:function(e){if(-1===new $big(this.banlanceInfo.banlance).comparedTo(new $big(this.rechargeForm.fromAmount)))return this.$message.error(this.$t("common.insufficientBalance"));this[e](this.currencyInfo.chain)},changeNet:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l["d"])({target:e});case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t["catch"](0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},send:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.changeNet(e.currencyInfo.chain);case 2:return n={HECO:"heco",ETH:"eth",BSC:"bsc",Ether:"eth"},t.next=5,e.checkNode({chain:"".concat(n[e.currencyInfo.chain]," heco")});case 5:if(a=t.sent,a){t.next=8;break}return t.abrupt("return");case 8:r=e.selectedPool,o=r.withdrawProxy,s=r.key,c={lockAbi:e.currencyInfo.lockAbi,lockAddress:e.currencyInfo.lockAddress,lpTokenAddr:e.rechargeForm.toAddress,account:e.rechargeForm.fromAddress,amount:e.rechargeForm.fromAmount,decimals:e.banlanceInfo.decimals,key:s,currency:e.currencyInfo.currency,chain:e.currencyInfo.chain,currencyKey:e.currencyInfo.key},0===s&&(c.lockAbi=o.abi,c.lockAddress=o.address),e.openDialog({tradeStatus:"waiting"}),W(c).then((function(t){if(t.status)return e.changeDialogOption({tradeStatus:"pending",type:2,hash:t.transactionHash}),void(e.dialogVisible||e.$emit("refresh"));e.changeDialogOption({tradeStatus:"failed"})}))["catch"]((function(){e.changeDialogOption({tradeStatus:"failed"})}));case 13:case"end":return t.stop()}}),t)})))()},getCurrentAcount:function(){this.queryLPtoken(),this.rechargeForm.toAddress=this.accountInfo.HECO||"";var e=this.currencyInfo.chain;this.rechargeForm.fromAddress=this.accountInfo[e],this.checkAuth(),this.changeNetAndGetBalance()}},watch:{chainId:function(){var e=this;this.$nextTick((function(){e.checkAuth(),e.changeNetAndGetBalance(),e.chainId===d["b"].HECO&&e.queryLPtoken()}))},accountInfo:{handler:function(e){e&&this.getCurrentAcount()},deep:!0},dialogVisible:{handler:function(e){e||(this.reload(),this.checkAuth(),this.changeNetAndGetBalance(),this.$emit("refresh"))},deep:!0},reset:function(e){e&&(this.rechargeForm.pool=this.poolType,this.init(),this.currencyChain="",this.currencyInfo="")}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(p["d"])(["chainId","currentAddress","accountInfo"])),Object(p["d"])("common",["dialogVisible"])),{},{selectedCurrencies:function(){var e=this,t=this.poolsList.find((function(t){return t.type===e.rechargeForm.pool}));return t&&t.currencies},selectedPool:function(){var e=this,t=this.poolsList.find((function(t){return t.type===e.rechargeForm.pool}));return t},confirmText:function(){return this.rechargeForm.fromAddress&&this.rechargeForm.fromAmount?this.rechargeForm.auth?this.rechargeForm.toAddress?this.chainId!==d["b"][this.currencyInfo.chain]?"changeNet":"send":"link":"doAuth":"inputAmount"},btnAction:function(){return{inputAmount:this.$t("deposit.inputAmount"),doAuth:this.$t("deposit.approveAndSend"),link:this.$t("common.connect",{chain:"HECO"}),changeNet:this.$t("common.switchNetwork"),send:this.$t("deposit.send")}},allowSend:function(){return!!(this.rechargeForm.auth&&this.rechargeForm.toAddress&&this.rechargeForm.fromAddress&&Number(this.rechargeForm.fromAmount))}})},J=G,K=(n("5db7"),Object(m["a"])(J,B,V,!1,null,"0389fc00",null)),z=K.exports,Y={components:{Pool:b,dialogRewardPickup:y["a"],MiningDialog:T,"input-fluidity":z,"output-fluidity":M},data:function(){return{showRewardDialog:!1,poolsList:configInstance.getPools(),activeName:"input-fluidity",poolType:"",assetsInfo:{lptokenTotal:"",deposited:"",coreMinter:0,wait:"",output:"",weights:""},dialogVisible:!1,operateType:"",allPoolData:null,total:"",selectOptions:[{label:"Cross Chain Pool （3）",options:[{label:"USD(USDT(ETH)+USDT(BSC)+USDT(HECO))",value:"crossChain3pool"},{label:"BTC(HBTC+WBTC+BTCB)",value:"btcPool"},{label:"ETH(ETH(HECO)+ETH(ETH)+ETH(BSC))",value:"ethPool"}]},{label:"Heco Pool（1）",options:[{label:"USD(DAI+USDC+USDT+HUSD)",value:"selfChain3pool"}]}],selectValue:"crossChain3pool",tvlList:[]}},mounted:function(){this.queryPoolList(),this.queryTotal(),this.queryTvl(),this.isMobile?this.selectChange(this.selectValue):this.poolType=""},methods:{toRecord:function(){this.$router.push({path:"/record/index",query:{type:2}})},handleClick:function(e){},queryTotal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].getTotal();case 3:n=t.sent,a=n.amount,e.total=k["b"].toFixed(a,2)||"",t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.total="";case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},queryAssets:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.currentPool){t.next=2;break}return t.abrupt("return");case 2:if(n=e.currentPool.LPtoken,a=void 0===n?{}:n,e.currentPool&&e.account){t.next=5;break}return t.abrupt("return");case 5:if(a.address&&configInstance.minter){t.next=7;break}return t.abrupt("return");case 7:return r=u["a"].lptokenTotal({lpContract:e.currentPool.LPtoken.address,account:e.account}),o=u["a"].deposited({minter:configInstance.minter,account:e.account,pool:e.currentPool.key}),r.then((function(t){e.assetsInfo.lptokenTotal=t.balance})),o.then((function(t){e.assetsInfo.deposited=t.balance})),t.next=13,e.getCoreMinterBalancd();case 13:e.assetsInfo.coreMinter=t.sent;case 14:case"end":return t.stop()}}),t)})))()},queryPoolList:function(){var e=this;if(this.account&&configInstance.minter){var t={size:4,minter:configInstance.minter,account:this.account};u["a"].allCoreMinter(t).then((function(t){var n=t.list;n.forEach((function(e){var n=new $big(+e.alloc).div(+t.totalAlloc)||"";e.allocPercent=k["b"].toPercent(n),e.output=new $big(n).times(Object(l["r"])(t.reward,18)).toString()})),e.allPoolData=t}))}},queryTvl:function(){var e=this;u["a"].getTvl().then((function(t){e.tvlList=t}))},returnTvlItem:function(e){var t=this.tvlList.find((function(t){return t.pool===e}));return t||{}},clearData:function(){this.assetsInfo={lptokenTotal:"",deposited:"",coreMinter:""}},handleChange:function(e){var t=this;this.poolType=e,this.activeName="input-fluidity",this.$nextTick((function(){t.clearData(),t.queryAssets()}))},doMining:function(e){this.operateType=e,this.dialogVisible=!0},getCoreMinterBalancd:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].coreMinter({minter:configInstance.minter,account:e.account,pool:e.currentPool.key});case 2:return n=t.sent,t.abrupt("return",n.balance);case 4:case"end":return t.stop()}}),t)})))()},openRewardDialog:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.account){t.next=2;break}return t.abrupt("return",e.openWalletDialog({chain:"HECO"}));case 2:return t.next=4,e.getCoreMinterBalancd();case 4:if(e.assetsInfo.coreMinter=t.sent,Number(e.assetsInfo.coreMinter)){t.next=7;break}return t.abrupt("return",e.$message.error(e.$t("common.insufficientBalance")));case 7:e.showRewardDialog=!0;case 8:case"end":return t.stop()}}),t)})))()},applayPledgeReward:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.checkNode({chain:"heco"});case 2:if(a=n.sent,a){n.next=5;break}return n.abrupt("return");case 5:Number(t.assetsInfo.coreMinter)&&(t.openDialog({tradeStatus:"waiting"}),Object(l["m"])({poolNo:t.currentPool.key,amount:0,account:t.account,minterAbi:v["a"].minter.abi,minterAddress:configInstance.minter,decimals:18,mainNet:"HECO"===e?0:1}).then((function(e){e.transactionHash?t.changeDialogOption({tradeStatus:"pending",type:5,hash:e.transactionHash}):t.changeDialogOption({tradeStatus:e.type})}))["catch"]((function(e){console.log(e,"err")})));case 6:case"end":return n.stop()}}),n)})))()},refresh:function(){this.queryAssets(),this.queryPoolList(),this.queryTotal()},filterData:function(e){return this.allPoolData&&this.allPoolData.list[e]||{balance:0}},selectChange:function(e){this.handleChange(e)}},computed:Object(o["a"])(Object(o["a"])({},Object(p["d"])(["accountInfo","isMobile"])),{},{currentPool:function(){var e=this;return this.poolsList.find((function(t){return t.type===e.poolType}))},account:function(){return this.accountInfo["HECO"]}}),watch:{account:function(e){e&&this.refresh()},isMobile:function(e){e?this.selectChange(this.selectValue):this.poolType=""}}},X=Y,Z=(n("e48f"),n("5bab"),Object(m["a"])(X,a,r,!1,null,"9907d990",null));t["default"]=Z.exports},b888:function(e,t,n){},c202:function(e,t,n){},c20d:function(e,t,n){var a=n("da84"),r=n("58a8").trim,o=n("5899"),s=a.parseInt,c=/^[+-]?0[Xx]/,i=8!==s(o+"08")||22!==s(o+"0x16");e.exports=i?function(e,t){var n=r(String(e));return s(n,t>>>0||(c.test(n)?16:10))}:s},ce23:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialogTradeRewardSwp",attrs:{width:"460px",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"reward-banlance"},[a("span",[e._v(e._s(e.$t("tradeAndMine.swapReward",{currency:"OFZ"})))]),""!==e.banlance?a("span",{staticClass:"font-family"},[e._v(e._s(e.banlance))]):a("span",{staticClass:"font-family"},[e._v("--")])]),a("div",{staticClass:"reward-info"},[a("span",[e._v(e._s(e.$t("tradeAndMine.network")))]),a("span",{on:{click:function(t){e.mainNet="HECO"}}},[a("i",{class:{active:"HECO"===e.mainNet}}),e._v("HECO")]),a("span",{on:{click:function(t){e.mainNet="ETH"}}},[a("i",{class:{active:"ETH"===e.mainNet}}),e._v("ETH")])]),a("div",{staticClass:"reward-address"},[a("span",{staticClass:"des"},[e._v(e._s(e.$t("tradeAndMine.recipAddress")))]),a("section",{staticClass:"val"},[e.rewardAccount?a("img",{staticClass:"chain",attrs:{src:n("daa5"),alt:""}}):e._e(),e.rewardAccount?a("span",[e._v(e._s(e._f("formatAdress")(e.rewardAccount)))]):a("div",{staticClass:"val"},[a("img",{staticClass:"chain",attrs:{src:n("cf17"),alt:""}}),a("span",[e._v(e._s(e.$t("common.notConnected")))])])])]),a("div",{staticClass:"gas"},[a("span",{staticStyle:{color:"#999"}},[e._v(e._s(e.$t("tradeAndMine.estimatedGas")))]),a("span",[e._v("--")])]),a("div",{staticClass:"estimate"},[a("span",{staticStyle:{color:"#999"}},[e._v(e._s(e.$t("tradeAndMine.estimatedAmount")))]),a("span",[e._v("--")])]),a("button",{staticClass:"btn primary-button",class:{gray:!e.rewardAccount},on:{click:e.confirm}},[e._v(" "+e._s(e.rewardAccount?e.$t("common.confirm"):e.$t("common.connect",{chain:"HECO"}))+" ")])])])},r=[],o=n("5530"),s=(n("a9e3"),n("2f62")),c={props:{showDialog:{type:Boolean,default:function(){return!1}},banlance:{type:[Number,String],default:function(){return 0}}},data:function(){return{mainNet:"HECO"}},computed:Object(o["a"])(Object(o["a"])({},Object(s["d"])(["accountInfo"])),{},{rewardAccount:function(){return this.accountInfo["HECO"]},dialogVisible:{get:function(){return this.showDialog},set:function(e){this.$emit("update:showDialog",e)}}}),methods:{handleClose:function(){this.$emit("cancel"),this.dialogVisible=!1},confirm:function(){this.rewardAccount||this.openWalletDialog({chain:"HECO"}),this.$emit("applayReward",this.mainNet)},openDialog:function(){this.dialogVisible=!0}}},i=c,l=(n("1315"),n("2877")),u=Object(l["a"])(i,a,r,!1,null,"10c3af1a",null);t["a"]=u.exports},cf45:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("0d03"),n("4795"),n("ac1f"),n("5319");var a=function(e,t){var n=null;return t=t||600,function(){var a=this;null!==n&&clearTimeout(n),n=setTimeout((function(){e.apply(a)}),t)}}},d03f:function(e,t,n){},d610:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["el-input-number",e.textAlign,{"is-disabled":e.disabled}],on:{dragstart:function(e){e.preventDefault()}}},[n("el-input",{ref:"input",attrs:{value:e.currentValue,placeholder:e.placeholder,disabled:e.disabled,maxlength:e.maxlength,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput}})],1)},r=[],o=(n("a9e3"),n("e25e"),n("ac1f"),n("466d"),n("4d63"),n("25f0"),n("542d"),{name:"WNumberInput",props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:String|Number,disabled:Boolean,name:String,textAlign:{type:String,default:"text-align-left"},String:String,maxlength:Number,label:String,placeholder:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:""}},watch:{value:{immediate:!0,handler:function(e){this.setCurrentValue(e)}}},methods:{toPrecision:function(e,t){if(""===e||void 0===e||null===e)return"";var n=String(e).match(new RegExp("^\\d+(?:\\.[0-9.]{0,".concat(t,"})?")));return n?n[0]:""},handleInput:function(e){this.setCurrentValue(e)},setCurrentValue:function(e){var t=this.currentValue;null===e||isNaN(e)||(e>0&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),Number(e)>0&&(e>=this.max&&(e=this.max),e<this.min&&(e=this.min)),e!==t&&(this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e))},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)}}}),s=o,c=(n("a3e3"),n("2877")),i=Object(c["a"])(s,a,r,!1,null,"6ed402de",null);t["a"]=i.exports},e107:function(e,t,n){var a={"./BSC-light.png":"12f8","./BSC.png":"4074","./BSC_BTCB.png":"e3e0","./BSC_ETH.png":"e4f6","./BSC_USDT.png":"12e0","./ERC20_USDT.png":"3e43","./ERC20_WBTC.png":"a83b","./ETH-light.png":"e1a4","./ETH.png":"e53b","./Ether-light.png":"aa67","./Ether.png":"64e1","./Ether_ETH.png":"bfad","./HECO-light.png":"daa5","./HECO.png":"cf17","./HECO_DAI.png":"f059","./HECO_ETH.png":"4f4c","./HECO_HBTC.png":"457e","./HECO_HUSD.png":"e74b","./HECO_USDC.png":"a0c4","./HECO_USDT.png":"1cd4","./USDT(HECO).png":"56a5","./USDT.png":"3a70","./add.svg":"38b2","./arrow.png":"060e","./bg.png":"5607","./caretright.png":"1611","./close.svg":"27ae","./connect.svg":"8232","./copy-active.png":"177c","./copy.png":"d92a","./disConnect.svg":"1471","./discord.svg":"5a83","./downline_popup.png":"4ad5","./email.svg":"daef","./empty.png":"3565","./failed.png":"8ccf","./github.svg":"e4505","./ic_c_nor.png":"c505","./ic_c_pre.png":"da16","./ic_copy_nor.svg":"589f","./ic_copy_pre.svg":"58ba","./ic_down.png":"7ceb","./ic_ending.svg":"cc25","./ic_ending_black.png":"cc69","./ic_exchange.png":"8c5c","./ic_exchange_gray.png":"b330","./ic_j.png":"414e","./ic_next_gray.png":"2d91","./ic_question.svg":"a074","./ic_radio_selected.svg":"8a53","./ic_set.svg":"1d44","./ic_share_nor.svg":"da7e","./ic_share_pre.svg":"9811","./ic_success.svg":"b480","./ic_up.png":"872f","./input.svg":"32fc","./lang.svg":"f59b","./line.png":"c709","./line_black.png":"3301","./logo.svg":"155f","./medium.svg":"e8a0","./metaMask.png":"fb17","./nav-about-active.svg":"91a2","./nav-about.svg":"df6e","./nav-charts-active.svg":"6755","./nav-charts.svg":"5dd8","./nav-doc-active.svg":"3551","./nav-doc.svg":"d849","./nav-home-active.svg":"da2c","./nav-home.svg":"a2d6","./nav-pool-active.svg":"9ff1","./nav-pool.svg":"577c","./nav-swap-active.svg":"0f29","./nav-swap.svg":"b670","./nav-vote-active.svg":"3174","./nav-vote.svg":"007b","./news.png":"13aa","./noMetaMask.png":"7cbc","./not-select.svg":"bb7e","./open.svg":"b164","./output.svg":"a30b","./refresh.svg":"1ab5","./selected.svg":"0091","./status-active.svg":"3369","./status.svg":"0795","./success.png":"42a9","./sym_head.png":"d8de","./telegram.svg":"0b45","./twitter.svg":"af83","./waiting.png":"2e9a"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="e107"},e25e:function(e,t,n){var a=n("23e7"),r=n("c20d");a({global:!0,forced:parseInt!=r},{parseInt:r})},e48f:function(e,t,n){"use strict";n("aff7")},f318:function(e,t,n){"use strict";n("b888")},ff64:function(e,t,n){}}]);